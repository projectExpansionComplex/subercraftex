import{r as m,R as d,j as v,e as O}from"./index-CN4mytNG.js";import{u as P,c as _,a as b}from"./index-D-rZVh68.js";import{u as N,S as y}from"./utils-BzlngoKp.js";function g(e,t,{checkForDefaultPrevented:s=!0}={}){return function(c){if(e==null||e(c),s===!1||!c.defaultPrevented)return t==null?void 0:t(c)}}function U({prop:e,defaultProp:t,onChange:s=()=>{}}){const[o,c]=D({defaultProp:t,onChange:s}),n=e!==void 0,S=n?e:o,R=P(s),x=m.useCallback(i=>{if(n){const p=typeof i=="function"?i(e):i;p!==e&&R(p)}else c(i)},[n,e,c,R]);return[S,x]}function D({defaultProp:e,onChange:t}){const s=m.useState(e),[o]=s,c=m.useRef(o),n=P(t);return m.useEffect(()=>{c.current!==o&&(n(o),c.current=o)},[o,c,n]),s}function q(e){const t=e+"CollectionProvider",[s,o]=_(t),[c,n]=s(t,{collectionRef:{current:null},itemMap:new Map}),S=a=>{const{scope:r,children:C}=a,l=d.useRef(null),u=d.useRef(new Map).current;return v.jsx(c,{scope:r,itemMap:u,collectionRef:l,children:C})};S.displayName=t;const R=e+"CollectionSlot",x=d.forwardRef((a,r)=>{const{scope:C,children:l}=a,u=n(R,C),f=N(r,u.collectionRef);return v.jsx(y,{ref:f,children:l})});x.displayName=R;const i=e+"CollectionItemSlot",M="data-radix-collection-item",p=d.forwardRef((a,r)=>{const{scope:C,children:l,...u}=a,f=d.useRef(null),A=N(r,f),I=n(i,C);return d.useEffect(()=>(I.itemMap.set(f,{ref:f,...u}),()=>void I.itemMap.delete(f))),v.jsx(y,{[M]:"",ref:A,children:l})});p.displayName=i;function T(a){const r=n(e+"CollectionConsumer",a);return d.useCallback(()=>{const l=r.collectionRef.current;if(!l)return[];const u=Array.from(l.querySelectorAll(`[${M}]`));return Array.from(r.itemMap.values()).sort((I,h)=>u.indexOf(I.ref.current)-u.indexOf(h.ref.current))},[r.collectionRef,r.itemMap])}return[{Provider:S,Slot:x,ItemSlot:p},T,o]}var E=O.useId||(()=>{}),j=0;function z(e){const[t,s]=m.useState(E());return b(()=>{s(o=>o??String(j++))},[e]),e||(t?`radix-${t}`:"")}var L=m.createContext(void 0);function B(e){const t=m.useContext(L);return e||t||"ltr"}export{q as a,z as b,g as c,B as d,U as u};
