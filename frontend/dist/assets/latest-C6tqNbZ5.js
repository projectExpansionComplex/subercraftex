import{r as t,a as m,j as e,L as l,h as c}from"./index-D2GD3Ky5.js";const D=()=>{const[h,x]=t.useState([]),[g,u]=t.useState({}),[b,j]=t.useState([]),[N,f]=t.useState([]),[p,y]=t.useState([]),[v,r]=t.useState(!0),[n,o]=t.useState(null),{current_user:d}=m(s=>s.auth),{theme:w,language:P}=m(s=>s.preferences);return t.useEffect(()=>{(async()=>{r(!0),o(null);try{const[a,i,S,k,$]=await Promise.all([c.get("http://localhost:1337/api/featured-products"),c.get("http://localhost:1337/api/category-products"),c.get("http://localhost:1337/api/featured-designers"),c.get("http://localhost:1337/api/latest-blog-posts"),c.get("http://localhost:1337/api/trending-products")]);x(a.data),u(i.data),j(S.data),f(k.data),y($.data)}catch(a){o("Failed to load homepage content. Please try again later."),console.error("Error fetching homepage content:",a)}finally{r(!1)}})()},[]),v?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-gray-900"})}):n?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx("div",{className:"text-red-500 text-xl",children:n})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:`homepage ${w} ${P}`,children:[e.jsx("section",{className:"hero-carousel mb-12",children:e.jsx("div",{className:"relative",children:h.map((s,a)=>e.jsxs("div",{className:`carousel-item ${a===0?"block":"hidden"}`,children:[e.jsx("img",{src:s.imageUrl,alt:s.name,className:"w-full h-96 object-cover",loading:"lazy"}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white p-4",children:[e.jsx("h2",{className:"text-2xl font-bold",children:s.name}),e.jsx("p",{className:"text-lg",children:s.description}),e.jsx(l,{to:`/product/${s.id}`,className:"mt-2 inline-block bg-white text-black px-4 py-2 rounded",children:"View Product"})]})]},s.id))})}),e.jsxs("section",{className:"category-grid mb-12",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Shop by Category"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Object.entries(g).map(([s,a])=>{var i;return e.jsx(l,{to:`/category/${s}`,className:"category-tile",children:e.jsxs("div",{className:"relative h-48 rounded overflow-hidden",children:[e.jsx("img",{src:(i=a[0])==null?void 0:i.thumbnail,alt:s,className:"w-full h-full object-cover",loading:"lazy"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xl font-bold",children:s})})]})},s)})})]}),e.jsxs("section",{className:"featured-designers mb-12",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Featured Designers"}),e.jsx("div",{className:"flex overflow-x-auto space-x-4 pb-4",children:b.map(s=>e.jsx(l,{to:`/designer/${s.id}`,className:"flex-shrink-0",children:e.jsxs("div",{className:"w-48 text-center",children:[e.jsx("img",{src:s.avatar,alt:s.name,className:"w-32 h-32 rounded-full mx-auto mb-2",loading:"lazy"}),e.jsx("h3",{className:"font-semibold",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600",children:s.specialty})]})},s.id))})]}),e.jsxs("section",{className:"latest-blog-posts mb-12",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Latest from the Blog"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map(s=>e.jsx(l,{to:`/blog/${s.id}`,className:"blog-post-card",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsx("img",{src:s.imageUrl,alt:s.title,className:"w-full h-48 object-cover",loading:"lazy"}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-bold text-xl mb-2",children:s.title}),e.jsx("p",{className:"text-gray-600 mb-2",children:s.excerpt}),e.jsxs("p",{className:"text-sm text-gray-500",children:["By ",s.author," on ",new Date(s.publishDate).toLocaleDateString()]})]})]})},s.id))})]}),e.jsxs("section",{className:"trending-products mb-12",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Trending Now"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:p.map(s=>e.jsx(l,{to:`/product/${s.id}`,className:"product-card",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsx("img",{src:s.thumbnail,alt:s.name,className:"w-full h-48 object-cover",loading:"lazy"}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:s.name}),e.jsxs("p",{className:"text-gray-800 font-bold",children:["$",s.price.toFixed(2)]})]})]})},s.id))})]}),e.jsx("section",{className:"sustainability-spotlight mb-12",children:e.jsxs("div",{className:"bg-green-100 p-6 rounded-lg",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Sustainability Spotlight"}),e.jsx("p",{className:"mb-4",children:"Learn about our commitment to sustainable and ethical design practices."}),e.jsx(l,{to:"/sustainability",className:"bg-green-500 text-white px-4 py-2 rounded inline-block",children:"Explore Our Initiatives"})]})}),d&&e.jsxs("section",{className:"personalized-content mb-12",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Recommended for You"}),e.jsxs("p",{children:["Welcome back, ",d.full_name,"! Check out these items based on your interests."]})]})]})})};export{D as default};
